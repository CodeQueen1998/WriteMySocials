<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>360° Brand Diagnostic™ | Write My Socials</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<style>
:root{
  --ink:#1b1b1b;
  --border: rgba(0,0,0,.14);
  --soft: rgba(0,0,0,.06);
  --muted:#333;
}
*{ box-sizing:border-box; margin:0; padding:0; }
body{
  background:#fff;
  color:var(--ink);
  font-family:'Playfair Display',serif;
  line-height:1.65;
}
.page{
  max-width:760px;
  margin:auto;
  padding:120px 22px 80px;
}
.hero{text-align:center;margin-bottom:60px;}
.hero h1{font-size:clamp(2.2rem,4vw,3rem);margin-bottom:20px;}
.hero p{font-family:'Poppins',sans-serif;color:var(--muted);}

.form-wrap{margin-top:60px;padding-top:40px;border-top:1px solid var(--soft);}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;}
.full{grid-column:1/-1;}
@media(max-width:760px){.grid{grid-template-columns:1fr;}}

label{display:block;font-family:'Poppins',sans-serif;font-size:.9rem;margin:10px 0 6px;}
input,textarea,select{
  width:100%;
  border:1px solid var(--border);
  border-radius:10px;
  padding:12px;
  font-family:'Poppins',sans-serif;
}
textarea{min-height:120px;resize:vertical;}

.actions{margin-top:20px;display:flex;gap:14px;align-items:center;}
button.submit{
  background:#111;color:#fff;border:none;
  padding:12px 18px;border-radius:999px;
  font-family:'Poppins',sans-serif;
  letter-spacing:.08em;text-transform:uppercase;
  cursor:pointer;
}
button.submit[disabled]{opacity:.6;cursor:not-allowed;}
.status{font-family:'Poppins',sans-serif;font-size:.9rem;color:#333;}
</style>
</head>

<body>

<main class="page">

<section class="hero">
  <h1>360° Brand Diagnostic™</h1>
  <p>
    A deep forensic audit of your brand to uncover what is weakening your positioning,
    limiting growth, and costing you revenue.
  </p>
</section>

<section class="form-wrap">

<form id="brandForm" novalidate>
<div class="grid">

<div>
<label>First Name</label>
<input name="first_name" type="text"/>
</div>

<div>
<label>Last Name</label>
<input name="last_name" type="text"/>
</div>

<div class="full">
<label>Email</label>
<input name="email" type="email" required/>
</div>

<div class="full">
<label>Phone</label>
<input name="phone" type="text"/>
</div>

<div class="full">
<label>Business Name</label>
<input name="business_name" type="text"/>
</div>

<div class="full">
<label>What does your business do?</label>
<textarea name="business_desc"></textarea>
</div>

<div class="full">
<label>Website</label>
<input name="website" type="text"/>
</div>

<div class="full">
<label>Instagram / TikTok</label>
<input name="social_handle" type="text"/>
</div>

<div class="full">
<label>Monthly Budget</label>
<select name="budget">
<option value="">—</option>
<option>Under $1k</option>
<option>$1k–$3k</option>
<option>$3k–$6k</option>
<option>$6k–$10k</option>
<option>$10k+</option>
</select>
</div>

</div>

<div class="actions">
<button class="submit" id="submitBtn" type="submit">LET’S GET STARTED</button>
<div class="status" id="status"></div>
</div>

</form>
</section>
</main>

<script>
/* ========= KLAVIYO SUBMIT ========= */

const KLAVIYO_COMPANY_ID = "RYm8PD"; // Your Klaviyo Site ID

const form = document.getElementById("brandForm");
const statusEl = document.getElementById("status");
const submitBtn = document.getElementById("submitBtn");

function setStatus(msg){ statusEl.textContent = msg; }

async function parseError(res){
  const text = await res.text();
  try{
    const j = JSON.parse(text);
    return j?.errors?.[0]?.detail || text;
  }catch{
    return text;
  }
}

async function postJson(url, body){
  const res = await fetch(url,{
    method:"POST",
    headers:{
      "Accept":"application/vnd.api+json",
      "Content-Type":"application/vnd.api+json"
    },
    body:JSON.stringify(body)
  });

  if(!res.ok){
    throw new Error(await parseError(res));
  }

  return {};
}

form.addEventListener("submit", async (e)=>{
  e.preventDefault();

  submitBtn.disabled = true;
  setStatus("Submitting…");

  try{
    const data = new FormData(form);
    const base = Object.fromEntries(data.entries());

    const email = (base.email || "").trim();
    if(!email){
      setStatus("Please enter your email.");
      submitBtn.disabled = false;
      return;
    }

    const profileBody = {
      data:{
        type:"profile",
        attributes:{
          email:email,
          first_name:base.first_name || "",
          last_name:base.last_name || "",
          properties:{
            business_name:base.business_name || "",
            business_desc:base.business_desc || "",
            website:base.website || "",
            social_handle:base.social_handle || "",
            phone:base.phone || "",
            monthly_budget:base.budget || "",
            submitted_at:new Date().toISOString()
          }
        }
      }
    };

    await postJson(
      `https://a.klaviyo.com/client/profiles?company_id=${encodeURIComponent(KLAVIYO_COMPANY_ID)}`,
      profileBody
    );

    setStatus("Submitted ✅ Thank you — we’ll be in touch.");
    form.reset();

  }catch(err){
    console.error(err);
    setStatus("Something went wrong. " + err.message);
  }finally{
    submitBtn.disabled = false;
  }
});
</script>

</body>
</html>



